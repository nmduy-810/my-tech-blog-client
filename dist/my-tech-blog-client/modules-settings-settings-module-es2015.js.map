{"version":3,"sources":["./src/app/modules/settings/settings-routing.module.ts","./src/app/modules/settings/settings.component.ts","./src/app/modules/settings/settings.component.html","./src/app/modules/settings/settings.module.ts"],"names":[],"mappings":"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","file":"modules-settings-settings-module-es2015.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { RouterModule, Routes } from '@angular/router';\nimport { AuthGuard } from 'src/app/core/services/auth-guard.service';\nimport { SettingsComponent } from './settings.component';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: SettingsComponent,\n    canActivate: [AuthGuard]\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule]\n})\nexport class SettingsRoutingModule {}\n","import { Component, OnInit } from '@angular/core';\nimport { FormBuilder, FormGroup } from '@angular/forms';\nimport { Router } from '@angular/router';\nimport { Errors } from 'src/app/core/models/errors.model';\nimport { User } from 'src/app/core/models/user.model';\nimport { UserService } from 'src/app/core/services/user.service';\n\n@Component({\n  selector: 'app-settings',\n  templateUrl: './settings.component.html',\n  styleUrls: ['./settings.component.css']\n})\nexport class SettingsComponent implements OnInit {\n  user: User = {} as User;\n  settingsForm!: FormGroup;\n  errors: Errors = {errors: {}};\n  isSubmitting = false;\n\n  constructor(private router: Router, private userService: UserService, private fb: FormBuilder) { \n    // create form group using the form builder\n    this.settingsForm = this.fb.group({ \n      username: '',\n      bio: '',\n      email: '',\n      password: ''\n    });\n  }\n\n  ngOnInit(): void {\n    //Copy of the current user object to place in editable form fields\n    console.log(this.userService.getCurrentUser());\n\n    Object.assign(this.user, this.userService.getCurrentUser());\n    \n    //Pass value of user to form field\n    this.settingsForm.patchValue(this.user);\n  }\n\n  logout() {\n    this.userService.purgeAuth();\n    this.router.navigateByUrl('/');\n  }\n\n  submitForm() {\n    this.isSubmitting = true;\n\n    this.updateUser(this.settingsForm.value);\n\n    this.userService.update(this.user).subscribe(updateUser => this.router.navigateByUrl('/home' + updateUser.username),\n    error => {\n      this.errors = error;\n      this.isSubmitting = false;\n    });\n  }\n\n  updateUser(values: Object) {\n    Object.assign(this.user, values);\n  }\n\n}\n","<div class=\"limiter\">\n  <div class=\"container-login100\">\n    <div class=\"wrap-login100 p-t-50 p-b-90\">\n      <form [formGroup]=\"settingsForm\" (ngSubmit)=\"submitForm()\">\n\n        <!--Title-->\n        <span class=\"login100-form-title p-b-51\">\n          Your Settings\n        </span>\n\n        <!-- <app-list-errors [errors]=\"errors\"></app-list-errors> -->\n\n        <fieldset [disabled]=\"isSubmitting\">\n\n          <!--User name-->\n          <fieldset class=\"form-group\">\n            <div class=\"wrap-input100 validate-input m-b-16\">\n              <input class=\"input100 form-control\" formControlName=\"username\" placeholder=\"Username\" type=\"text\">\n              <span class=\"focus-input100\"></span>\n            </div>\n          </fieldset>\n\n          <!--Email-->\n          <fieldset class=\"form-group\">\n            <div class=\"wrap-input100 validate-input m-b-16\">\n              <input class=\"input100 form-control\" formControlName=\"email\" placeholder=\"Email\" type=\"email\">\n              <span class=\"focus-input100\"></span>\n            </div>\n          </fieldset>\n\n          <!--New password-->\n          <fieldset class=\"form-group\">\n            <div class=\"wrap-input100 validate-input m-b-16\">\n              <input class=\"input100 form-control\" formControlName=\"password\" placeholder=\"New password\" type=\"password\">\n              <span class=\"focus-input100\"></span>\n            </div>\n          </fieldset>\n\n          <!--Button-->\n          <div class=\"container-login100-form-btn m-t-17\">\n            <button class=\"login100-form-btn\" type=\"submit\">\n              Update Settings\n            </button>\n          </div>\n        </fieldset>\n\n        <!-- Line break for logout button -->\n        <hr />\n\n        <div class=\"container-login100-form-btn m-t-17\">\n          <button class=\"btn-outline-danger\" (click)=\"logout()\">\n            Or click here to logout.\n          </button>\n        </div>\n\n      </form>  \n    </div>\n  </div>\n</div>","import { NgModule } from '@angular/core';\nimport { SharedModule } from 'src/app/shared/shared.module';\nimport { SettingsRoutingModule } from './settings-routing.module';\nimport { SettingsComponent } from './settings.component';\n\n@NgModule({\n    imports: [\n        SharedModule,\n        SettingsRoutingModule\n    ],\n    declarations: [\n        SettingsComponent\n    ]\n})\nexport class SettingsModule {}"],"sourceRoot":"webpack:///"}